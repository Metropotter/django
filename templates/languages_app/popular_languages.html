{% extends 'base.html' %}

{% block title %}Popular Programming Languages{% endblock %}

{% block content %}
<h1>Most Popular Programming Languages</h1>
<p class="lead">Languages ranked by actual user interest and views.</p>

<div class="row">
    {% for language in languages %}
    <div class="col-lg-6 mb-4">
        <div class="card">
            <div class="card-header bg-warning">
                <h5 class="mb-0">
                    #{{ forloop.counter }} - {{ language.name }}
                    <span class="badge bg-primary float-end">
                        {{ language.view_count }} view{{ language.view_count|pluralize }}
                    </span>
                </h5>
            </div>
            <div class="card-body">
                <p>{{ language.description }}</p>
                <div class="mb-2">
                    <small class="text-muted">
                        <i class="fas fa-calendar"></i> {{ language.year_created }} | 
                        <i class="fas fa-tag"></i> {{ language.get_main_application_area_display }} |
                        <i class="fas fa-eye"></i> {{ language.view_count }} view{{ language.view_count|pluralize }}
                    </small>
                </div>
                <a href="{% url 'languages_app:language_detail' language.id %}" class="btn btn-primary btn-sm">View Details</a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="alert alert-info">
            No languages have been viewed yet. Be the first to explore!
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}